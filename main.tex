% font size
\documentclass[a4paper, 11pt]{article}
% T1 causes blurry fonts with miktex, only works with tectonic
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

% language
\usepackage[ngerman]{babel}
% another font that should look good in acrobat
% but i do not like it
%\usepackage{aeguill}

% abkÃ¼rzungsverzeichnis
% withpage option prints the page number to definition
\usepackage[printonlyused]{acronym}

% custom minted code until shell-escape is implemented in tectonic
\input{snippets/minted}

\usepackage{graphicx}
\usepackage{ragged2e}

\usepackage[
    format = plain,
    justification = RaggedRight,
    singlelinecheck = false,
    font = {small},
    labelsep = space
]{caption}
\usepackage[dvipsnames]{xcolor}
\usepackage[a4paper]{geometry}
    % border size
    % left 3.5 right 2.5 for printing with binding
    \geometry{left=3cm, right=3cm, top=2.4cm, bottom=2cm}
    % row spacing
    \usepackage[onehalfspacing]{setspace}
    \renewcommand{\\}{\vspace*{0.5\baselineskip} \newline}
    \renewcommand*\MakeUppercase[1]{#1}
\usepackage{fancyhdr}
    \pagestyle{fancy}
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
    \fancyhead[R]{\footnotesize{\thepage}}
    \fancyhead[L]{\footnotesize{\leftmark}}
    \fancyfoot{}
\usepackage[
    colorlinks,
    pdfpagelabels,
    pdfstartview = FitH,
    bookmarksopen = true,
    bookmarksnumbered = true,
    linkcolor = black,
    urlcolor = cyan,
    plainpages = false,
    hypertexnames = false,
    citecolor = black,
    colorlinks = true,
] {hyperref}
\usepackage{import}
\usepackage{verbatim} % used for comments

\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X} % creates equally spaced columns
\usepackage{makecell} % creates multirow cell

% makes \subsubsubsection
\usepackage{titlesec}
\titleclass{\subsubsubsection}{straight}[\subsection]
\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}
%\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}} % optional; useful if paragraphs are to be numbered
\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{5}{\z@}
  {3.25ex \@plus1ex \@minus.2ex}
  {-1em}
  {\normalfont\normalsize\bfseries}}
\renewcommand\subparagraph{\@startsection{subparagraph}{6}{\parindent}
  {3.25ex \@plus1ex \@minus .2ex}
  {-1em}
  {\normalfont\normalsize\bfseries}}
\def\toclevel@subsubsubsection{4}
\def\toclevel@paragraph{5}
\def\toclevel@paragraph{6}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\def\l@paragraph{\@dottedtocline{5}{10em}{5em}}
\def\l@subparagraph{\@dottedtocline{6}{14em}{6em}}
\makeatother
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

% syntax highlighting
% TODO activate when shell escape is merged into tectonic
%\usepackage[newfloat]{minted}
%\usepackage{caption}
%\newenvironment{code}{\captionsetup{type=listing}}{}
%\SetupFloatingEnvironment{listing}{name=Listing}

\author{Felix Breuer}
\begin{document}

roter faden:
was ist iot ?
was ist mqtt ?
was ist load balancing ? und warum braucht man es ?

warum ist load balancing in mqtt schwer ?
was macht denn eigentlich ein smart lb?
und wie hab ich das ganze implementiert ?
wie gehts jetzt mit dem projekt weiter?

% start TODO delete
was macht ein smart lb ?
Cluster discovery via DNS

weighted round robin based on cpu

health checks -> mqtt connect, subscribe, publish, disconnect -> vielleicht metrik cluster node count?

state machine
-> cluster healthy vs cluster unhealthy
-> sticky session based on clientid vs circuit breaking


\newpage
% end

\import{other/}{title}

\pagenumbering{Roman}

\tableofcontents\newpage

\pagenumbering{arabic}

\input{content/index}

%\import{other/}{declaration}
\listoffigures\addcontentsline{toc}{section}{Abbildungsverzeichnis}\newpage
\listoftables\addcontentsline{toc}{section}{Tabellenverzeichnis}\newpage

% reihenfolge: anhang, quellen, glossar, index, eides, sperrvermerk

% quellen
\bibliographystyle{IEEEtran}
\bibliography{lib}
\newpage

\input{other/glossaries}

%\appendix
%\input{other/appendix}

\end{document}
